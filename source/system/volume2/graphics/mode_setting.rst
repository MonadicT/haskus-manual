==============================================================================
Mode setting
==============================================================================

::

   TODO:
      * Atomic mode-setting (test, commit)
